# 计算机操作系统

## 基本概念

并发和并行：

- **并发**：宏观上在一段时间内能同时运行多个程序，通常多个线程同时在访问同一个资源
- **并行**：同一时刻能运行多个指令，之后再汇总任务结果

共享：

- **互斥共享**：资源（被称为临界资源）在同一时刻只允许一个进程访问，需要同步机制
- **同时共享**：资源在同一时刻允许多个进程访问

虚拟：物理实体---*(虚拟技术)*--->多个逻辑实体

- **时分复用技术**：时分复用技术让每个进程轮流占用处理器，每次只执行一小个时间片并快速切换
- **空分复用技术**：虚拟内存使用了空分复用技术，将物理内存抽象为进程独享的地址空间

**异步**：进程不是一次性执行完毕

操作系统的基本功能：

1. 进程管理
2. 内存管理
3. 文件管理
4. 设备管理

**系统调用**：用户态---*(系统调用)*--->内核态

Linux的系统调用：

1. 进程控制
2. 进程通信
3. 文件操作
4. 设备操作
5. 信息维护
6. 安全

内核结构分类：

- **宏内核**：操作系统主要功能作为一个整体作为内核
  - 优点：高性能
  - 缺点：结构庞大，难以维护
- **微内核**：只保留基本功能在内核
  - 优点：结构简单，便于维护
  - 缺点：频繁在用户态和内核态之间切换，性能低
- **混合内核**：宏内核 + 微内核

中断分类：

1. **外中断**：如I/O中断、时钟中断、控制台中断等
2. **异常**：CPU内部异常，如非法操作码、地址越界、算术溢出等
3. **陷入**：在用户程序中使用系统调用





## 进程管理

**PCB**（Process Control Block）：即**进程控制块**，描述进程的基本信息和运行状态，所谓的创建进程和撤销进程，都是指对 PCB 的操作

进程三态模型：

![](计算机操作系统.assets/process-three-states.png)

进程五态模型：

![](计算机操作系统.assets/process-five-states.png)